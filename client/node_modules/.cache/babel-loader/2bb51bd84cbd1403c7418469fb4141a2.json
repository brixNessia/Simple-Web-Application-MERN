{"ast":null,"code":"import Http from \"utils/Http\";\nimport { requestSignIn, signIn, failSignIn, signOut, setUser } from \"./store/actionCreator\";\nexport function signup(params) {\n  return dispatch => {\n    return Http.post(\"/auth/sign-up\", { ...params\n    }).then(response => {\n      console.log(response);\n      return response.status;\n    }).catch(error => console.log(error));\n  };\n}\nexport function login(params) {\n  return dispatch => {\n    dispatch(requestSignIn());\n    return Http.post(\"/auth/login\", { ...params\n    }).then(response => {\n      dispatch(signIn(response.data.token));\n    }).catch(error => {\n      dispatch(failSignIn(error.response.data));\n      console.log(error);\n    });\n  };\n}\nexport function getUser() {\n  return dispatch => {\n    return Http.get(\"/users/profile/me\").then(response => {\n      dispatch(setUser(response.data));\n    });\n  };\n}\nexport function signOutUser() {\n  return dispatch => {\n    return Http.get(\"api/signout\").then(() => {\n      dispatch(signOut());\n    }).catch(error => {\n      console.log(error.response);\n    });\n  };\n}","map":{"version":3,"sources":["C:/Users/nessia.brb/development/React-JS/the-project-one/src/modules/auth/service.js"],"names":["Http","requestSignIn","signIn","failSignIn","signOut","setUser","signup","params","dispatch","post","then","response","console","log","status","catch","error","login","data","token","getUser","get","signOutUser"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,YAAjB;AACA,SACEC,aADF,EAEEC,MAFF,EAGEC,UAHF,EAIEC,OAJF,EAKEC,OALF,QAMO,uBANP;AAQA,OAAO,SAASC,MAAT,CAAgBC,MAAhB,EAAwB;AAC7B,SAAOC,QAAQ,IAAI;AACjB,WAAOR,IAAI,CAACS,IAAL,CAAU,eAAV,EAA2B,EAAE,GAAGF;AAAL,KAA3B,EACJG,IADI,CACCC,QAAQ,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,aAAOA,QAAQ,CAACG,MAAhB;AACD,KAJI,EAKJC,KALI,CAKEC,KAAK,IAAIJ,OAAO,CAACC,GAAR,CAAYG,KAAZ,CALX,CAAP;AAMD,GAPD;AAQD;AAED,OAAO,SAASC,KAAT,CAAeV,MAAf,EAAuB;AAC5B,SAAOC,QAAQ,IAAI;AACjBA,IAAAA,QAAQ,CAACP,aAAa,EAAd,CAAR;AACA,WAAOD,IAAI,CAACS,IAAL,CAAU,aAAV,EAAyB,EAAE,GAAGF;AAAL,KAAzB,EACJG,IADI,CACCC,QAAQ,IAAI;AAChBH,MAAAA,QAAQ,CAACN,MAAM,CAACS,QAAQ,CAACO,IAAT,CAAcC,KAAf,CAAP,CAAR;AACD,KAHI,EAIJJ,KAJI,CAIEC,KAAK,IAAI;AACdR,MAAAA,QAAQ,CAACL,UAAU,CAACa,KAAK,CAACL,QAAN,CAAeO,IAAhB,CAAX,CAAR;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACD,KAPI,CAAP;AAQD,GAVD;AAWD;AAED,OAAO,SAASI,OAAT,GAAmB;AACxB,SAAOZ,QAAQ,IAAI;AACjB,WAAOR,IAAI,CAACqB,GAAL,CAAS,mBAAT,EAA8BX,IAA9B,CAAmCC,QAAQ,IAAI;AACpDH,MAAAA,QAAQ,CAACH,OAAO,CAACM,QAAQ,CAACO,IAAV,CAAR,CAAR;AACD,KAFM,CAAP;AAGD,GAJD;AAKD;AAED,OAAO,SAASI,WAAT,GAAuB;AAC5B,SAAOd,QAAQ,IAAI;AACjB,WAAOR,IAAI,CAACqB,GAAL,CAAS,aAAT,EACJX,IADI,CACC,MAAM;AACVF,MAAAA,QAAQ,CAACJ,OAAO,EAAR,CAAR;AACD,KAHI,EAIJW,KAJI,CAIEC,KAAK,IAAI;AACdJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,KAAK,CAACL,QAAlB;AACD,KANI,CAAP;AAOD,GARD;AASD","sourcesContent":["import Http from \"utils/Http\";\r\nimport {\r\n  requestSignIn,\r\n  signIn,\r\n  failSignIn,\r\n  signOut,\r\n  setUser\r\n} from \"./store/actionCreator\";\r\n\r\nexport function signup(params) {\r\n  return dispatch => {\r\n    return Http.post(\"/auth/sign-up\", { ...params })\r\n      .then(response => {\r\n        console.log(response);\r\n        return response.status;\r\n      })\r\n      .catch(error => console.log(error));\r\n  };\r\n}\r\n\r\nexport function login(params) {\r\n  return dispatch => {\r\n    dispatch(requestSignIn());\r\n    return Http.post(\"/auth/login\", { ...params })\r\n      .then(response => {\r\n        dispatch(signIn(response.data.token));\r\n      })\r\n      .catch(error => {\r\n        dispatch(failSignIn(error.response.data));\r\n        console.log(error);\r\n      });\r\n  };\r\n}\r\n\r\nexport function getUser() {\r\n  return dispatch => {\r\n    return Http.get(\"/users/profile/me\").then(response => {\r\n      dispatch(setUser(response.data));\r\n    });\r\n  };\r\n}\r\n\r\nexport function signOutUser() {\r\n  return dispatch => {\r\n    return Http.get(\"api/signout\")\r\n      .then(() => {\r\n        dispatch(signOut());\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response);\r\n      });\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}