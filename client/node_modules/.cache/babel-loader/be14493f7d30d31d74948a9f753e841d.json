{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nessia.brb\\\\development\\\\React-JS\\\\the-project-one\\\\src\\\\modules\\\\home\\\\page\\\\Home.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport openSocket from \"socket.io-client\";\nimport Post from \"../components/Post\";\nimport PostField from \"../components/PostField\";\nimport * as postService from \"../service\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    // height: theme.spacing(90),\n    width: theme.spacing(50),\n    padding: theme.spacing(5)\n  }\n}));\n\nfunction Home() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const post = useSelector(({\n    posts\n  }) => posts);\n  const posts = post.posts && post.posts || [];\n  const socket = openSocket(process.env.REACT_APP_BACKEND_API_URL);\n  const [formState, setFormState] = useState({\n    post: \"\"\n  });\n  console.log(formState);\n  useEffect(() => {\n    dispatch(postService.fetchPosts());\n  }, []);\n  useEffect(() => {\n    socket.on(\"push\", post => {\n      setFormState({ ...formState.post,\n        post: post\n      });\n    });\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 3,\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, formState.post || \"test\", React.createElement(PostField, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), posts.map((value, index) => React.createElement(Post, {\n    key: index,\n    author: value.author,\n    post: value.post,\n    date: value.createdAt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }))));\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/nessia.brb/development/React-JS/the-project-one/src/modules/home/page/Home.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Paper","makeStyles","openSocket","Post","PostField","postService","useStyles","theme","root","width","spacing","padding","Home","classes","dispatch","post","posts","socket","process","env","REACT_APP_BACKEND_API_URL","formState","setFormState","console","log","fetchPosts","on","map","value","index","author","createdAt"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,KAAT,QAAsB,mBAAtB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AAEA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAO,KAAKC,WAAZ,MAA6B,YAA7B;AAEA,MAAMC,SAAS,GAAGL,UAAU,CAACM,KAAK,KAAK;AACrCC,EAAAA,IAAI,EAAE;AACJ;AACAC,IAAAA,KAAK,EAAEF,KAAK,CAACG,OAAN,CAAc,EAAd,CAFH;AAGJC,IAAAA,OAAO,EAAEJ,KAAK,CAACG,OAAN,CAAc,CAAd;AAHL;AAD+B,CAAL,CAAN,CAA5B;;AAQA,SAASE,IAAT,GAAgB;AACd,QAAMC,OAAO,GAAGP,SAAS,EAAzB;AACA,QAAMQ,QAAQ,GAAGhB,WAAW,EAA5B;AACA,QAAMiB,IAAI,GAAGhB,WAAW,CAAC,CAAC;AAAEiB,IAAAA;AAAF,GAAD,KAAeA,KAAhB,CAAxB;AACA,QAAMA,KAAK,GAAID,IAAI,CAACC,KAAL,IAAcD,IAAI,CAACC,KAApB,IAA8B,EAA5C;AACA,QAAMC,MAAM,GAAGf,UAAU,CAACgB,OAAO,CAACC,GAAR,CAAYC,yBAAb,CAAzB;AACA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BzB,QAAQ,CAAC;AAAEkB,IAAAA,IAAI,EAAE;AAAR,GAAD,CAA1C;AAEAQ,EAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AAEAzB,EAAAA,SAAS,CAAC,MAAM;AACdkB,IAAAA,QAAQ,CAACT,WAAW,CAACoB,UAAZ,EAAD,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;AAIA7B,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,MAAM,CAACS,EAAP,CAAU,MAAV,EAAkBX,IAAI,IAAI;AACxBO,MAAAA,YAAY,CAAC,EAAE,GAAGD,SAAS,CAACN,IAAf;AAAqBA,QAAAA,IAAI,EAAEA;AAA3B,OAAD,CAAZ;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;AAMA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE,CAAlB;AAAqB,IAAA,SAAS,EAAEF,OAAO,CAACL,IAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGa,SAAS,CAACN,IAAV,IAAkB,MADrB,EAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGC,KAAK,CAACW,GAAN,CAAU,CAACC,KAAD,EAAQC,KAAR,KACT,oBAAC,IAAD;AACE,IAAA,GAAG,EAAEA,KADP;AAEE,IAAA,MAAM,EAAED,KAAK,CAACE,MAFhB;AAGE,IAAA,IAAI,EAAEF,KAAK,CAACb,IAHd;AAIE,IAAA,IAAI,EAAEa,KAAK,CAACG,SAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CAHH,CADF,CADF;AAgBD;;AACD,eAAenB,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport openSocket from \"socket.io-client\";\r\n\r\nimport Post from \"../components/Post\";\r\nimport PostField from \"../components/PostField\";\r\nimport * as postService from \"../service\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    // height: theme.spacing(90),\r\n    width: theme.spacing(50),\r\n    padding: theme.spacing(5)\r\n  }\r\n}));\r\n\r\nfunction Home() {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const post = useSelector(({ posts }) => posts);\r\n  const posts = (post.posts && post.posts) || [];\r\n  const socket = openSocket(process.env.REACT_APP_BACKEND_API_URL);\r\n  const [formState, setFormState] = useState({ post: \"\" });\r\n\r\n  console.log(formState);\r\n\r\n  useEffect(() => {\r\n    dispatch(postService.fetchPosts());\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"push\", post => {\r\n      setFormState({ ...formState.post, post: post });\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Paper elevation={3} className={classes.root}>\r\n        {formState.post || \"test\"}\r\n        <PostField />\r\n        {posts.map((value, index) => (\r\n          <Post\r\n            key={index}\r\n            author={value.author}\r\n            post={value.post}\r\n            date={value.createdAt}\r\n          />\r\n        ))}\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}